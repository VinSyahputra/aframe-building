<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="initial-scale=1, width=device-width">
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="">
<title>Vin. Site</title>
<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/instanced-mesh@v0.3-alpha/src/instanced-mesh.min.js"></script>
<script src="https://unpkg.com/aframe-geometry-merger-component/dist/aframe-geometry-merger-component.min.js"></script>
</head>
<body>
  <script>
    AFRAME.registerComponent('tangga', {
      init: function(){
        let jumlah = 9;
        let x = 0.25; 
        for(let i = 0; i< jumlah; i++){
        
          let scene = document.querySelector('#scene');
          let anakTangga = document.createElement('a-entity');

          anakTangga.setAttribute('position', `0 ${x} ${-i / 2}`);
          anakTangga.setAttribute('scale', '1 1 1');
          anakTangga.setAttribute('shadow','receive: true');
          anakTangga.setAttribute('instanced-mesh-member', 'mesh:#instance');
          scene.appendChild(anakTangga);
          x+=0.5;
          if(i === 8){
            anakTangga.setAttribute('scale', '1 1 1.2');
            anakTangga.setAttribute('instanced-mesh-member', 'mesh:#instance');
          }
        }
        let y = 4.25;
        for(let j = jumlah; j> 0; j--){
        
          let scene = document.querySelector('#scene');
          let anakTangga = document.createElement('a-entity');
          anakTangga.setAttribute('instanced-mesh-member', 'mesh:#instance');
          anakTangga.setAttribute('position', `1 ${y} ${-j / 2.25}`);
          anakTangga.setAttribute('scale', '1 1 1');
          anakTangga.setAttribute('shadow','receive: true');
          scene.appendChild(anakTangga);
          y+=0.5;
        if(j === 9){
          anakTangga.setAttribute('scale', '1 1 1.2');
        }
      }

      }
    });

  </script>
    <a-scene id="scene" shadow="type: pcfsoft;" background="color: #333;" stats>

      <a-assets>
        <a-asset-item id="lift" src="../assets/lift.glb"></a-asset-item>
        <a-asset-item id="tanggaSamping" src="../assets/tangga-samping.glb"></a-asset-item>
      </a-assets>

      <a-entity
        gltf-model="#lift"
        position="0 0 0"
        scale="1 1 1">
      </a-entity>

        <a-entity tangga id="tangga">
            <a-entity position="-1.5 .25 -2.2" scale="3 .5 .5" id="instance" geometry="primitive: box" material="color:#eee" instanced-mesh></a-entity>
        </a-entity>
      

        <!-- RUANGAN SELATAN SISI BARAT -->
        <a-entity id="barat-selatan" geometry="primitive:box;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#ccc" position="-25 4 10" scale="35 8 10"  shadow="receive: true" material="shader:phong; reflectivity: 0.9; shininess: 30;" geometry-merger="preserveOriginal: false">
          <a-box position=".40 -.25 -.5" scale=".12 .5 .02" color="#99561b" material="shader:phong; reflectivity: 0.9; shininess: 30;">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-box>
          <a-box position="0 -.25 -.5" scale=".12 .5 .02" color="#99561b" material="shader:phong; reflectivity: 0.9; shininess: 30;">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-box>
          <a-box position="-.40 -.25 -.5" scale=".12 .5 .02" color="#99561b" material="shader:phong; reflectivity: 0.9; shininess: 30;">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-box>
        </a-entity>

        <!-- RUANGAN UTARA SISI BARAT -->
        <a-box position="-30 4 -11" scale="25 8 8"  shadow="receive: true" material="shader:phong; reflectivity: 0.9; shininess: 30; color: #ccc">
            <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position="-.35 -.25 .5" scale=".18 .5 .02">
              <a-box position="0 0 .25" scale="0.025 1 1"></a-box>
              <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
                <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
              </a-box>
            </a-entity>

            <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position=".35 -.25 .5" scale=".18 .5 .02">
              <a-box position="0 0 .25" scale="0.025 1 1"></a-box>
              <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
                <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
              </a-box>
            </a-entity>
        </a-box>

        <!-- RUANGAN SELATAN SISI TIMUR -->
        <a-entity id="timur-selatan" geometry="primitive:box;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#ccc" position="25 4 10" scale="35 8 10"  shadow="receive: true" material="shader:phong; reflectivity: 0.9; shininess: 30;" geometry-merger="preserveOriginal: false">
          <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position="-.40 -.25 -.5" scale=".12 .5 .02">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-entity>
          <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position="0 -.25 -.5" scale=".12 .5 .02">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-entity>
          <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position=".40 -.25 -.5" scale=".12 .5 .02">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-entity>
        </a-entity>

        <!-- RUANGAN UTARA SISI TIMUR -->
        <a-box position="30 4 -11" scale="25 8 8"  shadow="receive: true" material="shader:phong; reflectivity: 0.9; shininess: 30; color: #ccc" >
            <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position="-.35 -.25 .5" scale=".18 .5 .02">
                <a-box position="0 0 .25" scale="0.025 1 1"></a-box>
                <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
                  <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
                </a-box>
              </a-entity>
              <a-entity geometry="primitive: box; buffer: false;" material="shader:phong; reflectivity: 0.9; shininess: 30; color:#99561b" position=".35 -.25 .5" scale=".18 .5 .02">
                <a-box position="0 0 .25" scale="0.025 1 1"></a-box>
                <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
                  <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
                </a-box>
              </a-entity>
        </a-box>
    
        <a-box position="0 4 11.75" scale="15 8 6" material="shader:phong; reflectivity: 0.9; shininess: 30; color: #ccc">
          <a-box position="-.275 -.25 -.5" scale=".3 .5 .025" color="#99561b" material="shader:phong; reflectivity: 0.9; shininess: 30; color: #99561b">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-box>
          <a-box position=".275 -.25 -.5" scale=".3 .5 .025" color="#99561b" material="shader:phong; reflectivity: 0.9; shininess: 30; color: #99561b">
            <a-box position="0 0 -.25" scale="0.025 1 1"></a-box>
            <a-box position="0 .75 .25" scale="1 .35 1" color="#28384F">
              <a-text position="0 0 0" scale=".5 .5 1" align="center" z-offset=".6" white-space="pre" value="Alchemist"></a-text>
            </a-box>
          </a-box>

        </a-box>

        <!-- TIANG -->
        <a-box position="-10 4 -4" scale="1 8 1" color="#ccc"></a-box>
        <a-box position="10 4 -4" scale="1 8 1" color="#ccc"></a-box>


        
        <!-- TEMBOK -->
        <a-box position="0 4 -15" scale="100 8 .5" color="#ccc"></a-box>
        <a-box position="0 4 15" scale="100 8 .5" color="#ccc"></a-box>       
        <a-box position="-50 4 0" scale=".25 8 30" color="#ccc"></a-box>
        <a-box position="50 4 0" scale=".25 8 30" color="#ccc"></a-box>

        <!-- LIFT SAMPING -->
        <a-box position="-48.25 4 -5.5" scale="3.5 8 8" color="#333">
            <a-box position=".5 -.25 0" scale=".05 .5 .5" color="silver">
              <a-box position=".55 0 0" scale=".1 1 .02" color="white"></a-box>
            </a-box>
        </a-box>
        <a-box position="48.25 4 -5.5" scale="3.5 8 8" color="#333">
            <a-box position="-.5 -.25 0" scale=".05 .5 .5" color="silver">
              <a-box position="-.55 0 0" scale=".1 1 .02" color="white"></a-box>
            </a-box>
        </a-box>

        <a-box position="0 4 -13" scale="35 8 3.25" color="#ccc">
          <!-- PINTU -->
          <a-box position=".4 -.25 .5" scale=".075 .5 .05" color="white"></a-box>
          <a-box position=".1 -.25 .5" scale=".075 .5 .05" color="white"></a-box>
          <a-box position="-.4 -.25 .5" scale=".075 .5 .05" color="white"></a-box>

          <!-- JENDELA -->
          <a-box position=".27 -.15 .5" scale=".15 .3 .025" color="#FFF">
            <a-box position="0 0 .25" scale="1 .025 1" color="#ccc"></a-box>
            <a-box position="0 0 .25" scale=".01 1 1" color="#ccc"></a-box>
          </a-box>
          <a-box position="-.03 -.15 .5" scale=".15 .3 .025">
            <a-box position="0 0 .25" scale="1 .025 1" color="#ccc"></a-box>
            <a-box position="0 0 .25" scale=".01 1 1" color="#ccc"></a-box>
          </a-box>
          <a-box position="-.27 -.15 .5" scale=".15 .3 .025">
            <a-box position="0 0 .25" scale="1 .025 1" color="#ccc"></a-box>
            <a-box position="0 0 .25" scale=".01 1 1" color="#ccc"></a-box>
          </a-box>

        </a-box>
        <a-box position="-46.25 4 9.75" scale="7.5 8 9.5" color="#ccc"></a-box>
        <a-box position="46.25 4 9.75" scale="7.5 8 9.5" color="#ccc"></a-box>

        <!-- TANGGA SAMPING -->
        <a-entity
            gltf-model="url(../assets/tangga-samping.glb)"
            material="shader:phong; reflectivity: 0.9; shininess: 30; color: #fff"
            shadow="receive: true"
            position="-47 0 0"
            rotation="0 90 0"
            scale="1 1 1">
        </a-entity>
        <a-entity
            gltf-model="url(../assets/tangga-samping.glb)"
            material="shader:phong; reflectivity: 0.9; shininess: 30; color: #fff"
            shadow="receive: true"
            position="47 0 0"
            rotation="0 -90 0"
            scale="1 1 1">
        </a-entity>
        <!-- LANTAI -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="100" height="30" color="#eeb" shadow="receive: true" material="shader:phong; reflectivity: 0.9; shininess: 30; src: ../keramik.jpg; repeat: 80 40 "></a-plane>
        
        <!-- LAMPU --> 
        <a-entity light="type: point; intensity: 0.65; distance: 70; decay: 2; castShadow:true;" position="1 3 1"></a-entity>
        <a-entity light="type: point; intensity: 0.45; distance: 10; decay: 2; castShadow:true;" position="-42 3 1"></a-entity>
        <a-entity light="type: point; intensity: 0.45; distance: 10; decay: 2; castShadow:true;" position="42 3 1"></a-entity>
        <a-entity light="type: ambient; color: #fff; intensity: .65"></a-entity>

        
        <a-entity camera look-controls position="0 14 -2"></a-entity>
        <!-- <a-camera></a-camera> -->
      </a-scene>


<script></script>
</body>
</html>